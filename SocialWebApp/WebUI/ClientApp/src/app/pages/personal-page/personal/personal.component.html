<div class="cover-image-container">
  <tui-avatar class="cover-image" [avatarUrl]="userInfo?.cover || mockImg"></tui-avatar>
  <button
    appearance="secondary"
    size="m"
    class="btn-add-cover"
    tuiButton
    icon="tuiIconCameraLarge"
    (click)="this.onUploadPhotoClick.emit(template); uploadType = 'cover'"
  >
    Add cover photo
  </button>
</div>

<div class="tui-row tui-row_adaptive tui-row_align_center">
  <div class="user-avatar-container">
    <tui-avatar
      class="user-avatar"
      [size]="'xxl'"
      [rounded]="true"
      [avatarUrl]="userInfo?.avatar || mockImg"
      (click)="this.onUploadPhotoClick.emit(template); uploadType = 'avatar'"
    ></tui-avatar>
    <tui-avatar
      class="btn-upload-avatar"
      [rounded]="true"
      size="s"
      avatarUrl="tuiIconCameraLarge"
      (click)="this.onUploadPhotoClick.emit(template); uploadType = 'avatar'"
    ></tui-avatar>
  </div>
  <p class="tui-text_h5 tui-space_left-3">{{ userInfo?.firstName }} {{ userInfo?.lastName }}</p>
  <button class="btn-edit" appearance="secondary" size="m" tuiButton [disabled]="true">Edit profile</button>
</div>

<div class="tui-container_fixed user-bio-container">
  <p class="tui-space_bottom-5 tui-space_horizontal-5 tui-text_h5">Introduction</p>
  <app-info-item [value]="userInfo?.userName" icon="tuiIconUser"></app-info-item>
  <app-info-item [value]="userInfo?.email" icon="tuiIconMail"></app-info-item>
  <app-info-item [value]="userInfo?.gender | gender" icon="tuiIconStarFilled"></app-info-item>
  <app-info-item [value]="userInfo?.phoneNo" icon="tuiIconCall"></app-info-item>
</div>
<tui-tabs class="tabs-bar" [(activeItemIndex)]="activeItemIndex">
  <button tuiTab>Posts</button>
  <button tuiTab disabled>Friends</button>

  <button tuiTab>Photos</button>
</tui-tabs>

<div class="tui-container-fixed" [ngSwitch]="activeItemIndex">
  <div *ngSwitchCase="'0'" infinite-scroll [infiniteScrollDistance]="2" [infiniteScrollThrottle]="1000" (scrolled)="this.onScroll.emit()">
    <app-post *ngFor="let post of personalPosts" [post]="post" (onLike)="onLike.emit($event)" [userId]="userId"></app-post>

    <tui-loader class="tui-space_top-5" [size]="'l'" [showLoader]="isLoading"> </tui-loader>
  </div>
  <div *ngSwitchCase="'1'">Two</div>

  <div *ngSwitchCase="'2'">
    <app-photo-tab></app-photo-tab>
  </div>
</div>

<ng-template #template let-observer>
  <app-upload-image-dialog
    [observer]="observer"
    [type]="uploadType"
    (onUploadPhotoSuccess)="onPhotoUpload.emit({$event, uploadType});activeItemIndex = 0"
  ></app-upload-image-dialog>
</ng-template>
<ng-template let-observer [tuiDialogOptions]="{ label: 'Error', size: 's' }" [(tuiDialog)]="userNotFound">
  <p>User Not Found</p>
</ng-template>
